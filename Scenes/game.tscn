[gd_scene load_steps=7 format=3 uid="uid://q6qlqtcsygqy"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_game"]
[ext_resource type="PackedScene" uid="uid://4rxoeb3wyu0h" path="res://Scenes/Player.tscn" id="2_player"]
[ext_resource type="PackedScene" uid="uid://ck0hp12ep61o7" path="res://Scenes/EnemySpawner.tscn" id="3_spawner"]
[ext_resource type="PackedScene" uid="uid://coin_spawner_01" path="res://Scenes/CoinSpawner.tscn" id="4_coin_spawner"]
[ext_resource type="Script" path="res://scripts/GameCamera.gd" id="4_camera"]
[ext_resource type="PackedScene" uid="uid://hud_scene_01" path="res://Scenes/HUD.tscn" id="5_hud"]

[node name="Game" type="Node2D"]
script = ExtResource("1_game")

[node name="Player" parent="." instance=ExtResource("2_player")]

[node name="Spawners" type="Node2D" parent="."]

[node name="EnemySpawner" parent="Spawners" instance=ExtResource("3_spawner")]

[node name="CoinSpawner" parent="Spawners" instance=ExtResource("4_coin_spawner")]

[node name="GameCamera" type="Camera2D" parent="." groups=["camera"]]
position = Vector2(640, 360)
enabled = true
script = ExtResource("4_camera")

[node name="HUDLayer" parent="." instance=ExtResource("5_hud")]

[node name="Wall" type="Sprite2D" parent="."]
position = Vector2(48, 360)
visible = false

[node name="EndScreen" type="CanvasLayer" parent="."]
visible = false

[node name="EndScreenPanel" type="Panel" parent="EndScreen"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 400.0
offset_top = 200.0
offset_right = -400.0
offset_bottom = -200.0

[node name="RoundScoreLabel" type="Label" parent="EndScreen/EndScreenPanel"]
offset_left = 20.0
offset_top = 20.0
offset_right = 200.0
offset_bottom = 50.0
text = "Round Score: 0"

[node name="ShopButton" type="Button" parent="EndScreen/EndScreenPanel"]
offset_left = 20.0
offset_top = 280.0
offset_right = 120.0
offset_bottom = 310.0
text = "Shop"

[node name="RetryButton" type="Button" parent="EndScreen/EndScreenPanel"]
offset_left = 140.0
offset_top = 280.0
offset_right = 240.0
offset_bottom = 310.0
text = "Retry"

[node name="MenuButton" type="Button" parent="EndScreen/EndScreenPanel"]
offset_left = 260.0
offset_top = 280.0
offset_right = 360.0
offset_bottom = 310.0
text = "Main Menu"

[node name="PauseScreen" type="CanvasLayer" parent="."]
visible = false

[node name="PausePanel" type="Panel" parent="PauseScreen"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -150.0
offset_top = -100.0
offset_right = 150.0
offset_bottom = 100.0
grow_horizontal = 2
grow_vertical = 2

[node name="PauseLabel" type="Label" parent="PauseScreen/PausePanel"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -50.0
offset_top = -60.0
offset_right = 50.0
offset_bottom = -30.0
grow_horizontal = 2
grow_vertical = 2
text = "PAUSED"
horizontal_alignment = 1

[node name="ContinueButton" type="Button" parent="PauseScreen/PausePanel"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -60.0
offset_top = -10.0
offset_right = 60.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
text = "Continue"

[node name="RestartButton" type="Button" parent="PauseScreen/PausePanel"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -60.0
offset_top = 30.0
offset_right = 60.0
offset_bottom = 60.0
grow_horizontal = 2
grow_vertical = 2
text = "Restart"

[node name="MenuButton2" type="Button" parent="PauseScreen/PausePanel"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -60.0
offset_top = 70.0
offset_right = 60.0
offset_bottom = 100.0
grow_horizontal = 2
grow_vertical = 2
text = "Main Menu"

[connection signal="pressed" from="EndScreen/EndScreenPanel/ShopButton" to="." method="_on_shop_button_pressed"]
[connection signal="pressed" from="EndScreen/EndScreenPanel/RetryButton" to="." method="_on_retry_button_pressed"]
[connection signal="pressed" from="EndScreen/EndScreenPanel/MenuButton" to="." method="_on_menu_button_pressed"]
[connection signal="pressed" from="PauseScreen/PausePanel/ContinueButton" to="." method="_on_continue_button_pressed"]
[connection signal="pressed" from="PauseScreen/PausePanel/RestartButton" to="." method="_on_restart_button_pressed"]
[connection signal="pressed" from="PauseScreen/PausePanel/MenuButton2" to="." method="_on_pause_menu_button_pressed"]
